<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">engineTorque</span>,<span class="var type1" id="S3T1U4">motorTorque</span>] = solveGame(<span class="var type0" id="S4T0U7">requiredTorque</span>, <span class="var type0" id="S5T0U8">SOC</span>, <span class="var type0" id="S6T0U9">fuelConsumed</span>, <span class="var type0" id="S7T0U10">FuelConsTable</span>, <span class="var type0" id="S8T0U11">GasEmisTable</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line">        coder.extrinsic(<span class="string">'int2str'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line">        coder.extrinsic(<span class="string">'ismembertol'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line">        coder.extrinsic(<span class="string">'knnsearch'</span>); </span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line">        coder.extrinsic(<span class="string">'legend'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line">        <span class="var type1" id="S4T1U37">requiredTorque</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line">        <span class="keyword">if</span> <span class="var type1" id="S4T1U41">requiredTorque</span> == 0</span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line">            <span class="var type1" id="S3T1U45">motorTorque</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line">            <span class="var type1" id="S2T1U49">engineTorque</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line">        close <span class="string">all</span>   </span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line">        <span class="var type1" id="S11T3U57">motorSpeedCurve</span> = [0, 1200, 2000, 3000, 4000, 5000, 6000];</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line">        <span class="var type1" id="S12T3U69">motorTorqueCurve</span> = [400 399 225 150 100 80 70];</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line">        <span class="var type0" id="S13T0U81">tankCapacity</span> = 45;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line">        <span class="var type0" id="S14T0U85">engineSpeedCurve</span> = [0, 420, 900, 1380, 1860, 2340, 2820, 3300, 3780, 4260, 4740, 5220, 5700, 6000];</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line">        <span class="var type0" id="S15T0U104">engineTorqueCurve</span> = [109, 117, 125, 131, 134, 136, 136, 133, 129, 123, 114, 104, 91, 83];</span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line">        <span class="var type1" id="S16T1U123">SOC_deviation</span> = abs(70 - <span class="var type1" id="S5T1U129">SOC</span>)/100</span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line">        <span class="comment">%fuelConsumed = 3;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line">        <span class="var type1" id="S18T1U133">maxEngineTorque</span> = 136;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line">        <span class="var type1" id="S19T1U137">maxMotorTorque</span> = 400;</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line">        <span class="var type1" id="S20T1U141">minMotorTorque</span> = min(<span class="var type1" id="S12T3U144">motorTorqueCurve</span>);        </span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line">        <span class="var type1" id="S22T1U147">m</span> = 15;</span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line">        <span class="var type1" id="S23T1U151">e</span> = 15;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line">        <span class="var type1" id="S24T23U155">payoffMotor</span> = zeros(<span class="var type1" id="S22T1U158">m</span>,<span class="var type1" id="S23T1U159">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line">        <span class="var type1" id="S26T23U162">payoffEngine</span> = zeros(<span class="var type1" id="S22T1U165">m</span>,<span class="var type1" id="S23T1U166">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line">        <span class="var type1" id="S27T18U169">percentage</span> = 0:(1/(<span class="var type1" id="S22T1U178">m</span>-1)):1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line">        <span class="var type1" id="S28T1U183">maxEngineTorqueStrategy</span> = min([<span class="var type1" id="S4T1U188">requiredTorque</span> <span class="var type1" id="S18T1U189">maxEngineTorque</span>]);</span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line">        <span class="var type1" id="S29T1U192">maxMotorTorqueStrategy</span> = min([<span class="var type1" id="S4T1U197">requiredTorque</span> <span class="var type1" id="S19T1U198">maxMotorTorque</span>]);</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line">        <span class="var type1" id="S30T18U201">strategyEng</span> = <span class="var type1" id="S27T18U203">percentage</span> .* <span class="var type1" id="S28T1U204">maxEngineTorqueStrategy</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line">        <span class="keyword">if</span> <span class="var type1" id="S20T1U208">minMotorTorque</span> &gt; <span class="var type1" id="S29T1U209">maxMotorTorqueStrategy</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line">            <span class="var type1" id="S31T18U212">strategyMot</span> = zeros(1,15);</span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line">            <span class="var type1" id="S31T18U220">strategyMot</span> = linspace(<span class="var type1" id="S20T1U223">minMotorTorque</span>, <span class="var type1" id="S29T1U224">maxMotorTorqueStrategy</span>,15);</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line">        <span class="var type1" id="S33T23U228">tmpTorque</span> = repmat(<span class="var type1" id="S30T18U232">strategyEng</span>',1,<span class="var type1" id="S22T1U234">m</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line">        <span class="var type1" id="S35T23U237">totalTorque</span> = zeros(<span class="var type1" id="S22T1U240">m</span>, <span class="var type1" id="S23T1U241">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S36T1U244">i</span> = 1:<span class="var type1" id="S22T1U247">m</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line">            <span class="keyword">for</span> <span class="var type1" id="S37T1U250">j</span> = 1:<span class="var type1" id="S23T1U253">e</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line">                <span class="var type1" id="S35T23U257">totalTorque</span>(<span class="var type1" id="S36T1U258">i</span>,<span class="var type1" id="S37T1U259">j</span>) = <span class="var type1" id="S33T23U262">tmpTorque</span>(<span class="var type1" id="S36T1U263">i</span>,<span class="var type1" id="S37T1U264">j</span>) + <span class="var type1" id="S31T18U266">strategyMot</span>(<span class="var type1" id="S37T1U267">j</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line">        <span class="keyword">end</span>      </span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line">        <span class="comment">% weights     </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line">        <span class="var type1" id="S38T1U270">wFuel</span> = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line">        <span class="var type1" id="S39T1U274">wPower</span> = 0.5;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line">        <span class="var type1" id="S40T1U278">wTank</span> = 0.5;</span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line">        <span class="var type1" id="S41T1U282">wDrDem</span> = 0.5;</span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line">        <span class="var type1" id="S42T1U286">wSOC</span> = 100;</span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line">        <span class="var type1" id="S43T1U290">wNOX</span> = 65;</span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line">        <span class="var type1" id="S44T1U294">wCO</span> = 25;</span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line">        <span class="var type1" id="S45T1U298">wHC</span> = 45;</span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line">        <span class="var type1" id="S46T18U302">motorSpeedRef</span> = zeros(1,<span class="var type1" id="S23T1U306">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line">        <span class="var type1" id="S47T18U309">powerMotorKW</span> = zeros(1,<span class="var type1" id="S23T1U313">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line">        <span class="var type1" id="S48T23U316">torqueDeviation</span> = zeros(<span class="var type1" id="S22T1U319">m</span>,<span class="var type1" id="S23T1U320">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line">        <span class="var type1" id="S49T19U323">fuel</span> = zeros(<span class="var type1" id="S23T1U326">e</span>,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line">        <span class="var type1" id="S50T19U330">nox</span> = zeros(<span class="var type1" id="S23T1U333">e</span>,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line">        <span class="var type1" id="S51T19U337">power</span> = zeros(<span class="var type1" id="S23T1U340">e</span>,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S36T1U344">i</span> = 1:<span class="var type1" id="S22T1U347">m</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line">            <span class="keyword">for</span> <span class="var type1" id="S37T1U350">j</span> = 1:<span class="var type1" id="S23T1U353">e</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line">                <span class="var type1" id="S52T25U356">tmpT</span> = abs(<span class="var type1" id="S7T24U361">FuelConsTable</span>.torque - <span class="var type1" id="S30T18U364">strategyEng</span>(<span class="var type1" id="S37T1U365">j</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line">                <span class="var type0" id="S53T0U368">idxT</span> = 0;                    </span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line">                <span class="comment">% Power(W) = Torque (N.m) x Speed (RPM) / 9.5488</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line">                <span class="comment">% divide by 1000 for kW               </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line">                <span class="var type1" id="S46T18U373">motorSpeedRef</span>(<span class="var type1" id="S37T1U374">j</span>) = interp1(<span class="var type1" id="S12T3U377">motorTorqueCurve</span>, <span class="var type1" id="S11T3U378">motorSpeedCurve</span>, <span class="var type1" id="S31T18U380">strategyMot</span>(<span class="var type1" id="S37T1U381">j</span>),<span class="string">'linear'</span>,<span class="string">'extrap'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line">                <span class="var type1" id="S47T18U387">powerMotorKW</span>(<span class="var type1" id="S37T1U388">j</span>) = <span class="var type1" id="S31T18U393">strategyMot</span>(<span class="var type1" id="S37T1U394">j</span>) * <span class="var type1" id="S46T18U396">motorSpeedRef</span>(<span class="var type1" id="S37T1U397">j</span>) / 9.5488 / 1000;       </span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line">                <span class="var type1" id="S55T25U402">tmpS</span> = abs(<span class="var type1" id="S7T24U407">FuelConsTable</span>.speed - <span class="var type1" id="S46T18U410">motorSpeedRef</span>(<span class="var type1" id="S37T1U411">j</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line">                <span class="var type0" id="S56T0U414">idxS</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line">                [<span class="mxinfo " id="T1:U103">~</span>, <span class="var type1" id="S56T1U420">idxS</span>] = min(<span class="var type1" id="S55T25U423">tmpS</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line">                [<span class="mxinfo " id="T1:U106">~</span>, <span class="var type1" id="S53T1U428">idxT</span>] = min(<span class="var type1" id="S52T25U431">tmpT</span>);    </span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line">                </span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line">                <span class="var type1" id="S57T1U434">fuelConsumedGPS</span> = <span class="var type1" id="S7T24U437">FuelConsTable</span>.lookupTableFuel(<span class="var type1" id="S53T1U439">idxT</span>, <span class="var type1" id="S56T1U440">idxS</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line">                <span class="var type1" id="S58T1U443">HCEmissions</span> = <span class="var type1" id="S8T40U446">GasEmisTable</span>.lookupTableHC(<span class="var type1" id="S53T1U448">idxT</span>, <span class="var type1" id="S56T1U449">idxS</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line">                <span class="var type1" id="S59T1U452">COEmissions</span> = <span class="var type1" id="S8T40U455">GasEmisTable</span>.lookupTableCO(<span class="var type1" id="S53T1U457">idxT</span>, <span class="var type1" id="S56T1U458">idxS</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line">                <span class="var type1" id="S60T1U461">NOXEmissions</span> = <span class="var type1" id="S8T40U464">GasEmisTable</span>.lookupTableNOX(<span class="var type1" id="S53T1U466">idxT</span>, <span class="var type1" id="S56T1U467">idxS</span>);   </span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line">                <span class="var type1" id="S48T23U471">torqueDeviation</span>(<span class="var type1" id="S36T1U472">i</span>,<span class="var type1" id="S37T1U473">j</span>) = <span class="var type1" id="S4T1U475">requiredTorque</span> - <span class="var type1" id="S35T23U477">totalTorque</span>(<span class="var type1" id="S36T1U478">i</span>,<span class="var type1" id="S37T1U479">j</span>);             </span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line">                <span class="var type1" id="S26T23U483">payoffEngine</span>(<span class="var type1" id="S36T1U484">i</span>,<span class="var type1" id="S37T1U485">j</span>) = <span class="var type1" id="S38T1U492">wFuel</span>*<span class="var type1" id="S57T1U493">fuelConsumedGPS</span> + <span class="var type1" id="S41T1U495">wDrDem</span>*abs(<span class="var type1" id="S48T23U499">torqueDeviation</span>(<span class="var type1" id="S36T1U500">i</span>,<span class="var type1" id="S37T1U501">j</span>)) + <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line">                    <span class="var type1" id="S45T1U503">wHC</span>*<span class="var type1" id="S58T1U504">HCEmissions</span> + <span class="var type1" id="S44T1U506">wCO</span>*<span class="var type1" id="S59T1U507">COEmissions</span> + <span class="var type1" id="S43T1U509">wNOX</span>*<span class="var type1" id="S60T1U510">NOXEmissions</span> + <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line">                    <span class="var type1" id="S40T1U512">wTank</span>*<span class="var type1" id="S6T1U513">fuelConsumed</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line">                <span class="var type1" id="S24T23U517">payoffMotor</span>(<span class="var type1" id="S36T1U518">i</span>,<span class="var type1" id="S37T1U519">j</span>) = <span class="var type1" id="S41T1U523">wDrDem</span>*abs(<span class="var type1" id="S48T23U527">torqueDeviation</span>(<span class="var type1" id="S36T1U528">i</span>,<span class="var type1" id="S37T1U529">j</span>)) + <span class="var type1" id="S39T1U531">wPower</span>*<span class="var type1" id="S47T18U533">powerMotorKW</span>(<span class="var type1" id="S37T1U534">j</span>) + <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line">                    <span class="var type1" id="S42T1U536">wSOC</span>*<span class="var type1" id="S16T1U537">SOC_deviation</span>;              </span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line">                <span class="var type1" id="S49T19U541">fuel</span>(<span class="var type1" id="S37T1U542">j</span>,1) = <span class="var type1" id="S57T1U544">fuelConsumedGPS</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line">                <span class="var type1" id="S50T19U548">nox</span>(<span class="var type1" id="S37T1U549">j</span>,1) = <span class="var type1" id="S60T1U551">NOXEmissions</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line">                <span class="var type1" id="S51T19U555">power</span>(<span class="var type1" id="S37T1U556">j</span>,1) = <span class="var type1" id="S47T18U559">powerMotorKW</span>(<span class="var type1" id="S37T1U560">j</span>);                                </span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line">              </span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line">        <span class="var type0" id="S61T0U563">paretoStrategies</span> = [];</span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line">        <span class="var type0" id="S62T0U568">paretoIndex</span> = [];</span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line">        <span class="var type1" id="S26T23U572">payoffEngine</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line">        <span class="var type1" id="S24T23U574">payoffMotor</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line">        [<span class="var type1" id="S61T42U578">paretoStrategies</span>, <span class="var type1" id="S62T42U579">paretoIndex</span>, <span class="var type1" id="S63T41U580">x</span>, <span class="var type1" id="S64T41U581">y</span>] = <span class="fcn" id="F260N24:B583">paretoset</span>(<span class="var type1" id="S26T23U584">payoffEngine</span>, <span class="var type1" id="S24T23U585">payoffMotor</span>)    ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line">        <span class="var type1" id="S66T45U588">payoffE</span> = reshape(<span class="var type1" id="S26T23U591">payoffEngine</span>,(<span class="var type1" id="S22T1U594">m</span>)*(<span class="var type1" id="S23T1U596">e</span>),1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line">        <span class="var type1" id="S68T45U600">payoffM</span> = reshape(<span class="var type1" id="S24T23U603">payoffMotor</span>,(<span class="var type1" id="S22T1U606">m</span>)*(<span class="var type1" id="S23T1U608">e</span>),1);        </span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line">        <span class="var type1" id="S69T62U612">payoffBoth</span> = horzcat(<span class="var type1" id="S66T45U615">payoffE</span>, <span class="var type1" id="S68T45U616">payoffM</span>);   </span></span>
<span class="srcline"><span class="lineno"><a href="1,103" id="srcline103">103</a></span><span class="line">                </span></span>
<span class="srcline"><span class="lineno"><a href="1,104" id="srcline104">104</a></span><span class="line">        <span class="var type0" id="S71T0U619">engineTorquePareto</span> = <span class="var type1" id="S30T18U621">strategyEng</span>(<span class="var type1" id="S62T42U623">paretoIndex</span>(:,1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,105" id="srcline105">105</a></span><span class="line">        <span class="var type0" id="S72T0U628">motorTorquePareto</span> = <span class="var type1" id="S31T18U630">strategyMot</span>(<span class="var type1" id="S62T42U632">paretoIndex</span>(:,2));  </span></span>
<span class="srcline"><span class="lineno"><a href="1,106" id="srcline106">106</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,107" id="srcline107">107</a></span><span class="line">        <span class="var type1" id="S73T43U637">stringRequiredTorque</span> = <span class="extrinsicFcn" id="F322N14:B639">int2str</span>(<span class="var type1" id="S4T1U640">requiredTorque</span>);   </span></span>
<span class="srcline"><span class="lineno"><a href="1,108" id="srcline108">108</a></span><span class="line">   </span></span>
<span class="srcline"><span class="lineno"><a href="1,109" id="srcline109">109</a></span><span class="line">        <span class="autoExtrinsicFcn" id="F323N11:B643">figure</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,110" id="srcline110">110</a></span><span class="line">        <span class="var type1" id="S76T43U646">p1</span> = <span class="autoExtrinsicFcn" id="F324N26:B648">plot</span>(<span class="var type1" id="S63T41U649">x</span>,<span class="var type1" id="S64T41U650">y</span>,<span class="string">'ob'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,111" id="srcline111">111</a></span><span class="line">        <span class="autoExtrinsicFcn" id="F326N29:B654">title</span>([<span class="string">'Game payoffs, required torque = '</span>, <span class="var type1" id="S73T43U658">stringRequiredTorque</span>, <span class="string">'Nm'</span>] );</span></span>
<span class="srcline"><span class="lineno"><a href="1,112" id="srcline112">112</a></span><span class="line">        hold <span class="string">on</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,113" id="srcline113">113</a></span><span class="line">        [ <span class="var type1" id="S80T53U666">bestPayoffEngPareto</span>, <span class="var type1" id="S81T53U667">bestPayoffMotPareto</span> ] = <span class="fcn" id="F328N4:B669">bestpareto</span>( <span class="var type1" id="S61T42U670">paretoStrategies</span>, <span class="var type1" id="S62T42U671">paretoIndex</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line">        <span class="var type1" id="S48T23U672">torqueDeviation</span>, <span class="var type1" id="S49T19U673">fuel</span>, <span class="var type1" id="S50T19U674">nox</span>, <span class="var type1" id="S51T19U675">power</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line">             </span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line">        <span class="var type1" id="S80T53U677">bestPayoffEngPareto</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line">        <span class="var type1" id="S81T53U679">bestPayoffMotPareto</span>        </span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">        <span class="var type0" id="S83T0U682">bestPayoffEngNashLH</span> = zeros(3,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">        <span class="var type0" id="S84T0U689">bestPayoffMotNashLH</span> = zeros(3,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">        <span class="var type1" id="S85T1U696">numStratBoth</span> = <span class="var type1" id="S22T1U698">m</span>+<span class="var type1" id="S23T1U699">e</span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">        [<span class="var type1" id="S86T53U703">nashEq34Pl1</span>, <span class="var type1" id="S87T53U704">nashEq34Pl2</span>] = <span class="fcn" id="F361N2:B706">LemkeHowson</span>(-<span class="var type1" id="S26T23U708">payoffEngine</span>, -<span class="var type1" id="S24T23U710">payoffMotor</span>, ceil(3/4*<span class="var type1" id="S85T1U717">numStratBoth</span>));                     </span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line">        <span class="var type0" id="S90T0U720">payoffEngNash</span> = <span class="var type1" id="S26T23U722">payoffEngine</span>(<span class="var type1" id="S86T53U724">nashEq34Pl1</span>==1, <span class="var type1" id="S87T53U727">nashEq34Pl2</span>==1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line">        <span class="var type0" id="S91T0U731">payoffMotNash</span> = <span class="var type1" id="S24T23U733">payoffMotor</span>(<span class="var type1" id="S86T53U735">nashEq34Pl1</span>==1, <span class="var type1" id="S87T53U738">nashEq34Pl2</span>==1);       </span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line">        <span class="comment">%[~, indM] = min(payoffEngNash);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line">        <span class="comment">%nashIndEng = find(nashEq34{1,1}==1);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line">        <span class="comment">%nashIndMot = find(nashEq34{2,1}==1);            </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line">      </span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line">        <span class="var type1" id="S92T53U742">conflictPoint</span> = sub2ind([<span class="var type1" id="S22T1U747">m</span> <span class="var type1" id="S23T1U748">e</span>], find(<span class="var type1" id="S86T53U752">nashEq34Pl1</span>==1), find(<span class="var type1" id="S87T53U757">nashEq34Pl2</span>==1))</span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line">        <span class="comment">%[A, payoffNPG, iterations, err] = npg([m e], -payoffBoth);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,134" id="srcline134">134</a></span><span class="line">        <span class="comment">%payoffEngNashNPG = -payoffNPG(1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,135" id="srcline135">135</a></span><span class="line">        <span class="comment">%payoffMotNashNPG = -payoffNPG(2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,136" id="srcline136">136</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,137" id="srcline137">137</a></span><span class="line">        [<span class="mxinfo " id="T1:U229">~</span>, <span class="var type1" id="S95T1U763">indNP</span>] = <span class="fcn" id="F477N22:B765">nashsolution</span>(<span class="var type1" id="S69T62U766">payoffBoth</span>, <span class="var type1" id="S92T53U767">conflictPoint</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,138" id="srcline138">138</a></span><span class="line">        <span class="var type1" id="S97T1U770">payoffEngNashSol</span> = <span class="var type1" id="S69T62U772">payoffBoth</span>(<span class="var type1" id="S95T1U773">indNP</span>,1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,139" id="srcline139">139</a></span><span class="line">        <span class="var type1" id="S98T1U777">payoffMotNashSol</span> = <span class="var type1" id="S69T62U779">payoffBoth</span>(<span class="var type1" id="S95T1U780">indNP</span>,2)</span></span>
<span class="srcline"><span class="lineno"><a href="1,140" id="srcline140">140</a></span><span class="line">        <span class="var type1" id="S99T42U784">paretoStrInd</span> = horzcat(<span class="var type1" id="S61T42U787">paretoStrategies</span>, <span class="var type1" id="S62T42U788">paretoIndex</span>);        </span></span>
<span class="srcline"><span class="lineno"><a href="1,141" id="srcline141">141</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,142" id="srcline142">142</a></span><span class="line">        [<span class="var type1" id="S100T8U792">ks</span>, <span class="var type1" id="S101T42U793">linePareto</span>] = <span class="fcn" id="F511N18:B795">kalaismorodinskysolution</span>(<span class="var type1" id="S69T62U796">payoffBoth</span>, <span class="var type1" id="S92T53U797">conflictPoint</span>, <span class="var type1" id="S61T42U798">paretoStrategies</span>, <span class="var type1" id="S99T42U799">paretoStrInd</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,143" id="srcline143">143</a></span><span class="line">        <span class="var type1" id="S103T25U802">percentReqTorq</span> = linspace(0, <span class="var type1" id="S4T1U806">requiredTorque</span>, 10);</span></span>
<span class="srcline"><span class="lineno"><a href="1,144" id="srcline144">144</a></span><span class="line">        <span class="var type1" id="S104T8U810">probKsMixed</span> = zeros(1,2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,145" id="srcline145">145</a></span><span class="line">        <span class="var type1" id="S105T8U817">ksMixed</span> = zeros(1,2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,146" id="srcline146">146</a></span><span class="line">        size(<span class="var type1" id="S101T42U825">linePareto</span>,1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,147" id="srcline147">147</a></span><span class="line">        <span class="keyword">if</span> size(<span class="var type1" id="S101T42U832">linePareto</span>,1) &gt; 1</span></span>
<span class="srcline"><span class="lineno"><a href="1,148" id="srcline148">148</a></span><span class="line">            <span class="keyword">if</span> <span class="var type1" id="S101T42U841">linePareto</span>(2,1) - <span class="var type1" id="S101T42U845">linePareto</span>(1,1) ~=0 &amp;&amp; <span class="var type1" id="S101T42U852">linePareto</span>(1,2) - <span class="var type1" id="S101T42U856">linePareto</span>(2,2) ~= 0</span></span>
<span class="srcline"><span class="lineno"><a href="1,149" id="srcline149">149</a></span><span class="line">                <span class="var type1" id="S104T8U863">probKsMixed</span>(1) = (<span class="var type1" id="S100T8U869">ks</span>(1,1) - <span class="var type1" id="S101T42U873">linePareto</span>(1,1)) / (<span class="var type1" id="S101T42U879">linePareto</span>(2,1) - <span class="var type1" id="S101T42U883">linePareto</span>(1,1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,150" id="srcline150">150</a></span><span class="line">                <span class="var type1" id="S104T8U889">probKsMixed</span>(2) = (<span class="var type1" id="S100T8U895">ks</span>(1,2) - min(<span class="var type1" id="S101T42U901">linePareto</span>(:,2))) / (<span class="var type1" id="S101T42U907">linePareto</span>(1,2) - <span class="var type1" id="S101T42U911">linePareto</span>(2,2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,151" id="srcline151">151</a></span><span class="line">            <span class="keyword">elseif</span> <span class="var type1" id="S101T42U918">linePareto</span>(2,1) - <span class="var type1" id="S101T42U922">linePareto</span>(1,1) ==0</span></span>
<span class="srcline"><span class="lineno"><a href="1,152" id="srcline152">152</a></span><span class="line">                <span class="var type1" id="S104T8U929">probKsMixed</span>(2) = (<span class="var type1" id="S100T8U935">ks</span>(1,2) - min(<span class="var type1" id="S101T42U941">linePareto</span>(:,2))) / (<span class="var type1" id="S101T42U947">linePareto</span>(1,2) - <span class="var type1" id="S101T42U951">linePareto</span>(2,2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,153" id="srcline153">153</a></span><span class="line">                <span class="var type1" id="S104T8U957">probKsMixed</span>(1) = 1 - <span class="var type1" id="S104T8U962">probKsMixed</span>(2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,154" id="srcline154">154</a></span><span class="line">            <span class="keyword">elseif</span> <span class="var type1" id="S101T42U968">linePareto</span>(1,2) - <span class="var type1" id="S101T42U972">linePareto</span>(2,2) == 0</span></span>
<span class="srcline"><span class="lineno"><a href="1,155" id="srcline155">155</a></span><span class="line">                 <span class="var type1" id="S104T8U979">probKsMixed</span>(1) = (<span class="var type1" id="S100T8U985">ks</span>(1,1) - <span class="var type1" id="S101T42U989">linePareto</span>(1,1)) / (<span class="var type1" id="S101T42U995">linePareto</span>(2,1) - <span class="var type1" id="S101T42U999">linePareto</span>(1,1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,156" id="srcline156">156</a></span><span class="line">                 <span class="var type1" id="S104T8U1005">probKsMixed</span>(2) = 1 - <span class="var type1" id="S104T8U1010">probKsMixed</span>(1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,157" id="srcline157">157</a></span><span class="line">            <span class="keyword">end</span>         </span></span>
<span class="srcline"><span class="lineno"><a href="1,158" id="srcline158">158</a></span><span class="line">            <span class="var type1" id="S104T8U1013">probKsMixed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,159" id="srcline159">159</a></span><span class="line">            <span class="var type1" id="S105T8U1015">ksMixed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,160" id="srcline160">160</a></span><span class="line">            <span class="var type1" id="S105T8U1019">ksMixed</span>(1) = <span class="var type1" id="S101T42U1023">linePareto</span>(1,1) + <span class="var type1" id="S104T8U1028">probKsMixed</span>(1)*(<span class="var type1" id="S101T42U1033">linePareto</span>(2,1) - <span class="var type1" id="S101T42U1037">linePareto</span>(1,1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,161" id="srcline161">161</a></span><span class="line">            <span class="var type1" id="S105T8U1043">ksMixed</span>(2) = min(<span class="var type1" id="S101T42U1049">linePareto</span>(:,2)) + <span class="var type1" id="S104T8U1054">probKsMixed</span>(2)*abs(<span class="var type1" id="S101T42U1060">linePareto</span>(1,2) - <span class="var type1" id="S101T42U1064">linePareto</span>(2,2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,162" id="srcline162">162</a></span><span class="line">                        </span></span>
<span class="srcline"><span class="lineno"><a href="1,163" id="srcline163">163</a></span><span class="line">            <span class="var type1" id="S107T1U1069">mixedEngineTorque</span> = min(<span class="var type1" id="S30T18U1074">strategyEng</span>(<span class="var type1" id="S101T42U1076">linePareto</span>(1,3)),<span class="var type1" id="S30T18U1080">strategyEng</span>(<span class="var type1" id="S101T42U1082">linePareto</span>(2,3))) + <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,164" id="srcline164">164</a></span><span class="line">                <span class="var type1" id="S104T8U1087">probKsMixed</span>(1)*abs(<span class="var type1" id="S30T18U1093">strategyEng</span>(<span class="var type1" id="S101T42U1095">linePareto</span>(1,3))-<span class="var type1" id="S30T18U1099">strategyEng</span>(<span class="var type1" id="S101T42U1101">linePareto</span>(2,3)))</span></span>
<span class="srcline"><span class="lineno"><a href="1,165" id="srcline165">165</a></span><span class="line">            <span class="var type1" id="S108T1U1106">mixedMotorTorque</span> = min(<span class="var type1" id="S31T18U1111">strategyMot</span>(<span class="var type1" id="S101T42U1113">linePareto</span>(1,4)),<span class="var type1" id="S31T18U1117">strategyMot</span>(<span class="var type1" id="S101T42U1119">linePareto</span>(2,4))) + <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,166" id="srcline166">166</a></span><span class="line">                <span class="var type1" id="S104T8U1124">probKsMixed</span>(1)*abs(<span class="var type1" id="S31T18U1130">strategyMot</span>(<span class="var type1" id="S101T42U1132">linePareto</span>(1,4))-<span class="var type1" id="S31T18U1136">strategyMot</span>(<span class="var type1" id="S101T42U1138">linePareto</span>(2,4)))</span></span>
<span class="srcline"><span class="lineno"><a href="1,167" id="srcline167">167</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,168" id="srcline168">168</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,169" id="srcline169">169</a></span><span class="line">        <span class="comment">%sum(probKsMixed)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,170" id="srcline170">170</a></span><span class="line">        <span class="var type0" id="S109T0U1143">payoffCoalCoef</span> = ones(<span class="var type1" id="S22T1U1146">m</span>,<span class="var type1" id="S23T1U1147">e</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,171" id="srcline171">171</a></span><span class="line">        <span class="var type0" id="S109T0U1151">payoffCoalCoef</span>(<span class="var type0" id="S22T0U1154">m</span>:<span class="var type0" id="S22T0U1156">m</span>-1:end-1) = 0.5;</span></span>
<span class="srcline"><span class="lineno"><a href="1,172" id="srcline172">172</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,173" id="srcline173">173</a></span><span class="line">        [ <span class="var type1" id="S112T23U1166">payoffWholeCoal</span>, <span class="var type1" id="S113T23U1167">coeffCoal</span>, <span class="var type1" id="S114T23U1168">payoffEngineCoal</span>, <span class="var type1" id="S115T23U1169">payoffMotorCoal</span>, <span class="var type1" id="S116T23U1170">payoffWholeCoalBefore</span> ] = <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,174" id="srcline174">174</a></span><span class="line">            <span class="fcn" id="F758N7:B1172">coalitionpayoffs</span>(<span class="var type1" id="S24T23U1173">payoffMotor</span>, <span class="var type1" id="S26T23U1174">payoffEngine</span>, <span class="var type1" id="S48T23U1175">torqueDeviation</span>, <span class="var type1" id="S103T25U1176">percentReqTorq</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,175" id="srcline175">175</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,176" id="srcline176">176</a></span><span class="line">        <span class="var type1" id="S118T74U1179">indCoal</span> = (<span class="var type1" id="S113T23U1183">coeffCoal</span> == 0.99 | <span class="var type1" id="S113T23U1186">coeffCoal</span> == 0.991);</span></span>
<span class="srcline"><span class="lineno"><a href="1,177" id="srcline177">177</a></span><span class="line">        <span class="var type1" id="S119T23U1190">indCoalition</span> = +<span class="var type1" id="S118T74U1192">indCoal</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,178" id="srcline178">178</a></span><span class="line">        <span class="var type1" id="S119T23U1196">indCoalition</span>(<span class="var type1" id="S118T74U1198">indCoal</span> == true) = 0.98;</span></span>
<span class="srcline"><span class="lineno"><a href="1,179" id="srcline179">179</a></span><span class="line">        <span class="var type1" id="S119T23U1205">indCoalition</span>(<span class="var type1" id="S118T74U1207">indCoal</span> == false) = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,180" id="srcline180">180</a></span><span class="line">        <span class="var type0" id="S122T0U1213">payoffWholeCoal1</span> = <span class="var type1" id="S112T23U1215">payoffWholeCoal</span> .* <span class="var type1" id="S119T23U1216">indCoalition</span>;      </span></span>
<span class="srcline"><span class="lineno"><a href="1,181" id="srcline181">181</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,182" id="srcline182">182</a></span><span class="line">        <span class="var type1" id="S123T45U1219">payoffMotCoalVec</span> = reshape(<span class="var type1" id="S115T23U1222">payoffMotorCoal</span>,(<span class="var type1" id="S22T1U1225">m</span>)*(<span class="var type1" id="S23T1U1227">e</span>),1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,183" id="srcline183">183</a></span><span class="line">        <span class="var type1" id="S124T45U1231">payoffEngCoalVec</span> = reshape(<span class="var type1" id="S114T23U1234">payoffEngineCoal</span>,(<span class="var type1" id="S22T1U1237">m</span>)*(<span class="var type1" id="S23T1U1239">e</span>),1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,184" id="srcline184">184</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,185" id="srcline185">185</a></span><span class="line">        <span class="comment">% get all undominated strategies (pareto optimality)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,186" id="srcline186">186</a></span><span class="line">        [<span class="var type1" id="S125T62U1244">undomImp</span>, <span class="var type1" id="S126T45U1245">undomImpInd</span>] = <span class="fcn" id="F759N5:B1247">checkimputation</span>(<span class="var type1" id="S69T62U1248">payoffBoth</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,187" id="srcline187">187</a></span><span class="line">            <span class="var type1" id="S61T42U1249">paretoStrategies</span>, <span class="var type1" id="S123T45U1250">payoffMotCoalVec</span>, <span class="var type1" id="S124T45U1251">payoffEngCoalVec</span>, <span class="var type1" id="S112T23U1252">payoffWholeCoal</span>);        </span></span>
<span class="srcline"><span class="lineno"><a href="1,188" id="srcline188">188</a></span><span class="line">        <span class="var type0" id="S128T0U1255">imputM</span> = zeros(1,size(<span class="var type1" id="S126T45U1261">undomImpInd</span>,2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,189" id="srcline189">189</a></span><span class="line">        <span class="var type0" id="S129T0U1265">imputE</span> = zeros(1,size(<span class="var type1" id="S126T45U1271">undomImpInd</span>,2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,190" id="srcline190">190</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S36T1U1275">i</span> = 1 : size(<span class="var type1" id="S126T45U1280">undomImpInd</span>,2)             </span></span>
<span class="srcline"><span class="lineno"><a href="1,191" id="srcline191">191</a></span><span class="line">            <span class="keyword">if</span> all(<span class="var type1" id="S125T62U1288">undomImp</span>(<span class="var type1" id="S36T1U1289">i</span>,1) &lt;= <span class="var type1" id="S26T23U1292">payoffEngine</span>(<span class="var type1" id="S22T1U1293">m</span>,:))</span></span>
<span class="srcline"><span class="lineno"><a href="1,192" id="srcline192">192</a></span><span class="line">                <span class="var type0" id="S128T0U1298">imputM</span>(1,<span class="var type0" id="S36T0U1300">i</span>) = <span class="var type1" id="S126T45U1302">undomImpInd</span>(<span class="var type1" id="S36T1U1303">i</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,193" id="srcline193">193</a></span><span class="line">            <span class="keyword">end</span>                </span></span>
<span class="srcline"><span class="lineno"><a href="1,194" id="srcline194">194</a></span><span class="line">            <span class="keyword">if</span> all(<span class="var type1" id="S125T62U1310">undomImp</span>(<span class="var type1" id="S36T1U1311">i</span>,2) &lt;= <span class="var type1" id="S24T23U1314">payoffMotor</span>(:,<span class="var type1" id="S23T1U1316">e</span>))</span></span>
<span class="srcline"><span class="lineno"><a href="1,195" id="srcline195">195</a></span><span class="line">                <span class="var type0" id="S129T0U1320">imputE</span>(1,<span class="var type0" id="S36T0U1322">i</span>) = <span class="var type1" id="S126T45U1324">undomImpInd</span>(<span class="var type1" id="S36T1U1325">i</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,196" id="srcline196">196</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,197" id="srcline197">197</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,198" id="srcline198">198</a></span><span class="line">        coder.varsize(<span class="string">'imput'</span>);  </span></span>
<span class="srcline"><span class="lineno"><a href="1,199" id="srcline199">199</a></span><span class="line">        <span class="var type1" id="S131T53U1334">imput</span> = <span class="var type1" id="S126T45U1335">undomImpInd</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,200" id="srcline200">200</a></span><span class="line">        <span class="var type1" id="S131T53U1339">imput</span>(<span class="var type1" id="S131T53U1341">imput</span>==0) = []</span></span>
<span class="srcline"><span class="lineno"><a href="1,201" id="srcline201">201</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,202" id="srcline202">202</a></span><span class="line">        <span class="var type1" id="S132T77U1347">payoffImput</span> = zeros(size(<span class="var type1" id="S131T53U1352">imput</span>,1),3);</span></span>
<span class="srcline"><span class="lineno"><a href="1,203" id="srcline203">203</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S36T1U1357">i</span> = 1 : size(<span class="var type1" id="S131T53U1362">imput</span>,1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,204" id="srcline204">204</a></span><span class="line">            <span class="var type1" id="S132T77U1367">payoffImput</span>(<span class="var type1" id="S36T1U1368">i</span>,1) = <span class="var type1" id="S69T62U1371">payoffBoth</span>(<span class="var type1" id="S131T53U1373">imput</span>(<span class="var type1" id="S36T1U1374">i</span>),1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,205" id="srcline205">205</a></span><span class="line">            <span class="var type1" id="S132T77U1379">payoffImput</span>(<span class="var type1" id="S36T1U1380">i</span>,2) = <span class="var type1" id="S69T62U1383">payoffBoth</span>(<span class="var type1" id="S131T53U1385">imput</span>(<span class="var type1" id="S36T1U1386">i</span>),2);       </span></span>
<span class="srcline"><span class="lineno"><a href="1,206" id="srcline206">206</a></span><span class="line">            [<span class="var type1" id="S133T1U1391">r</span>, <span class="var type1" id="S134T1U1392">c</span>] = ind2sub(size(<span class="var type1" id="S112T23U1397">payoffWholeCoal</span>), <span class="var type1" id="S131T53U1399">imput</span>(<span class="var type1" id="S36T1U1400">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,207" id="srcline207">207</a></span><span class="line">            <span class="var type1" id="S132T77U1404">payoffImput</span>(<span class="var type1" id="S36T1U1405">i</span>,3) = <span class="var type1" id="S112T23U1408">payoffWholeCoal</span>(<span class="var type1" id="S133T1U1409">r</span>,<span class="var type1" id="S134T1U1410">c</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,208" id="srcline208">208</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,209" id="srcline209">209</a></span><span class="line">               </span></span>
<span class="srcline"><span class="lineno"><a href="1,210" id="srcline210">210</a></span><span class="line">        <span class="var type1" id="S136T53U1413">coreSol</span> = <span class="fcn" id="F795N8:B1415">core</span>(<span class="var type1" id="S132T77U1416">payoffImput</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,211" id="srcline211">211</a></span><span class="line">        <span class="var type0" id="S138T0U1419">indCore</span> = find(<span class="var type1" id="S136T53U1422">coreSol</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,212" id="srcline212">212</a></span><span class="line">              </span></span>
<span class="srcline"><span class="lineno"><a href="1,213" id="srcline213">213</a></span><span class="line">        <span class="message error" id="M1F1C">[<span class="var type0" id="S139T0U1426"><span class="message error" id="M2F1C">Xengine</span></span>, <span class="var type0" id="S140T0U1427"><span class="message error" id="M3F1C">X2</span></span>, <span class="var type0" id="S141T0U1428"><span class="message error" id="M4F1C">A1</span></span>, <span class="var type0" id="S142T0U1429"><span class="message error" id="M5F1C">b1</span></span>, <span class="var type0" id="S143T0U1430"><span class="message error" id="M6F1C">v1</span></span>] = <span class="fcn" id="F800N21:B1432">mixedstrategies</span>(<span class="var type1" id="S26T23U1433">payoffEngine</span>,1)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,214" id="srcline214">214</a></span><span class="line">        <span class="message error" id="M7F1C">[<span class="var type0" id="S145T0U1438"><span class="message error" id="M8F1C">Xmotor</span></span>, <span class="var type0" id="S146T0U1439"><span class="message error" id="M9F1C">X1</span></span>, <span class="var type0" id="S147T0U1440"><span class="message error" id="M10F1C">A2</span></span>, <span class="var type0" id="S148T0U1441"><span class="message error" id="M11F1C">b2</span></span>, <span class="var type0" id="S149T0U1442"><span class="message error" id="M12F1C">v2</span></span>] = <span class="fcn" id="F833N21:B1444">mixedstrategies</span>(<span class="var type1" id="S24T23U1445">payoffMotor</span>,2)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,215" id="srcline215">215</a></span><span class="line">        coder.varsize(<span class="string">'payoffStrEng'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,216" id="srcline216">216</a></span><span class="line">        coder.varsize(<span class="string">'payoffStrMot'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,217" id="srcline217">217</a></span><span class="line">        <span class="var type0" id="S139T0U1460"><span class="message error" id="M13F1C">Xengine</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,218" id="srcline218">218</a></span><span class="line">        <span class="var type0" id="S145T0U1462"><span class="message error" id="M14F1C">Xmotor</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,219" id="srcline219">219</a></span><span class="line">        <span class="keyword">if</span>  ~isempty(<span class="var type0" id="S141T0U1471"><span class="message error" id="M15F1C">A1</span></span>) &amp;&amp; ~isempty(<span class="var type0" id="S147T0U1475"><span class="message fatal" id="M16F1C">A2</span></span>) &amp;&amp; ~isempty(<span class="var type0" id="S142T0U1479">b1</span>) &amp;&amp; ~isempty(<span class="var type0" id="S148T0U1483">b2</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,220" id="srcline220">220</a></span><span class="line">            <span class="var type0" id="S151T0U1486">mixedStrEng</span> = find(abs(<span class="var type0" id="S139T0U1493">Xengine</span>-0)&gt;0.001);</span></span>
<span class="srcline"><span class="lineno"><a href="1,221" id="srcline221">221</a></span><span class="line">            <span class="var type0" id="S152T0U1498">mixedStrMot</span> = find(abs(<span class="var type0" id="S145T0U1505">Xmotor</span>-0)&gt;0.001);</span></span>
<span class="srcline"><span class="lineno"><a href="1,222" id="srcline222">222</a></span><span class="line">            <span class="var type0" id="S153T0U1510">count</span> = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,223" id="srcline223">223</a></span><span class="line">            <span class="var type0" id="S154T0U1514">payoffProbMixedStrEng</span> = zeros(size(<span class="var type0" id="S151T0U1519">mixedStrEng</span>,1),2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,224" id="srcline224">224</a></span><span class="line">            <span class="var type0" id="S155T0U1524">payoffProbMixedStrMot</span> = zeros(size(<span class="var type0" id="S152T0U1529">mixedStrMot</span>,1),2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,225" id="srcline225">225</a></span><span class="line">            <span class="var type0" id="S156T0U1534">payoffStrEng</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,226" id="srcline226">226</a></span><span class="line">            <span class="keyword">for</span> <span class="var type0" id="S36T0U1538">i</span> = 1 : size(<span class="var type0" id="S151T0U1543">mixedStrEng</span>,1)        </span></span>
<span class="srcline"><span class="lineno"><a href="1,227" id="srcline227">227</a></span><span class="line">                <span class="var type0" id="S154T0U1548">payoffProbMixedStrEng</span>(<span class="var type0" id="S36T0U1549">i</span>,1) = <span class="var type0" id="S26T0U1552">payoffEngine</span>(<span class="var type0" id="S151T0U1554">mixedStrEng</span>(<span class="var type0" id="S36T0U1555">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,228" id="srcline228">228</a></span><span class="line">                <span class="var type0" id="S154T0U1559">payoffProbMixedStrEng</span>(<span class="var type0" id="S36T0U1560">i</span>,2) = <span class="var type0" id="S139T0U1563">Xengine</span>(<span class="var type0" id="S151T0U1565">mixedStrEng</span>(<span class="var type0" id="S36T0U1566">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,229" id="srcline229">229</a></span><span class="line">                <span class="var type0" id="S156T0U1569">payoffStrEng</span> = <span class="var type0" id="S156T0U1571">payoffStrEng</span> + <span class="var type0" id="S26T0U1574">payoffEngine</span>(<span class="var type0" id="S151T0U1576">mixedStrEng</span>(<span class="var type0" id="S36T0U1577">i</span>))*<span class="var type0" id="S139T0U1579">Xengine</span>(<span class="var type0" id="S151T0U1581">mixedStrEng</span>(<span class="var type0" id="S36T0U1582">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,230" id="srcline230">230</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,231" id="srcline231">231</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,232" id="srcline232">232</a></span><span class="line">            <span class="var type0" id="S157T0U1585">payoffStrMot</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,233" id="srcline233">233</a></span><span class="line">            <span class="keyword">for</span> <span class="var type0" id="S37T0U1589">j</span> = 1 : size(<span class="var type0" id="S152T0U1594">mixedStrMot</span>,1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,234" id="srcline234">234</a></span><span class="line">                <span class="var type0" id="S155T0U1599">payoffProbMixedStrMot</span>(<span class="var type0" id="S37T0U1600">j</span>,1) = <span class="var type0" id="S24T0U1603">payoffMotor</span>(<span class="var type0" id="S152T0U1605">mixedStrMot</span>(<span class="var type0" id="S37T0U1606">j</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,235" id="srcline235">235</a></span><span class="line">                <span class="var type0" id="S155T0U1610">payoffProbMixedStrMot</span>(<span class="var type0" id="S37T0U1611">j</span>,2) = <span class="var type0" id="S145T0U1614">Xmotor</span>(<span class="var type0" id="S152T0U1616">mixedStrMot</span>(<span class="var type0" id="S37T0U1617">j</span>));    </span></span>
<span class="srcline"><span class="lineno"><a href="1,236" id="srcline236">236</a></span><span class="line">                <span class="var type0" id="S157T0U1620">payoffStrMot</span> = <span class="var type0" id="S157T0U1622">payoffStrMot</span> + <span class="var type0" id="S24T0U1625">payoffMotor</span>(<span class="var type0" id="S152T0U1627">mixedStrMot</span>(<span class="var type0" id="S37T0U1628">j</span>))*<span class="var type0" id="S145T0U1630">Xmotor</span>(<span class="var type0" id="S152T0U1632">mixedStrMot</span>(<span class="var type0" id="S37T0U1633">j</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,237" id="srcline237">237</a></span><span class="line">            <span class="keyword">end</span>         </span></span>
<span class="srcline"><span class="lineno"><a href="1,238" id="srcline238">238</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,239" id="srcline239">239</a></span><span class="line">            <span class="var type0" id="S158T0U1637">pureStrEng</span> = find(<span class="var type0" id="S139T0U1640">Xengine</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,240" id="srcline240">240</a></span><span class="line">            <span class="var type0" id="S159T0U1643">pureStrMot</span> = find(<span class="var type0" id="S140T0U1646">X2</span>);    </span></span>
<span class="srcline"><span class="lineno"><a href="1,241" id="srcline241">241</a></span><span class="line">            <span class="var type0" id="S156T0U1649">payoffStrEng</span> = <span class="var type0" id="S26T0U1651">payoffEngine</span>(<span class="var type0" id="S158T0U1652">pureStrEng</span>, <span class="var type0" id="S159T0U1653">pureStrMot</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,242" id="srcline242">242</a></span><span class="line">            <span class="var type0" id="S157T0U1656">payoffStrMot</span> = <span class="var type0" id="S24T0U1658">payoffMotor</span>(<span class="var type0" id="S158T0U1659">pureStrEng</span>, <span class="var type0" id="S159T0U1660">pureStrMot</span>);           </span></span>
<span class="srcline"><span class="lineno"><a href="1,243" id="srcline243">243</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,244" id="srcline244">244</a></span><span class="line">        <span class="var type0" id="S160T0U1663">m1</span> = min(<span class="var type0" id="S69T0U1667">payoffBoth</span>(:,1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,245" id="srcline245">245</a></span><span class="line">        <span class="var type0" id="S161T0U1672">m2</span> = min(<span class="var type0" id="S69T0U1676">payoffBoth</span>(:,2));     </span></span>
<span class="srcline"><span class="lineno"><a href="1,246" id="srcline246">246</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,247" id="srcline247">247</a></span><span class="line">      </span></span>
<span class="srcline"><span class="lineno"><a href="1,248" id="srcline248">248</a></span><span class="line">        <span class="var type0" id="S162T0U1681">v12</span> = min(min(<span class="var type0" id="S116T0U1686">payoffWholeCoalBefore</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,249" id="srcline249">249</a></span><span class="line">        [ <span class="var type0" id="S163T0U1690">shEngine</span>, <span class="var type0" id="S164T0U1691">shMotor</span> ] = shapleyvalue(<span class="var type0" id="S162T0U1694">v12</span>, <span class="var type0" id="S143T0U1695">v1</span>, <span class="var type0" id="S149T0U1696">v2</span>)    </span></span>
<span class="srcline"><span class="lineno"><a href="1,250" id="srcline250">250</a></span><span class="line">        <span class="keyword">if</span> ~ismembertol([<span class="var type0" id="S163T0U1704">shEngine</span>, <span class="var type0" id="S164T0U1705">shMotor</span>],<span class="var type0" id="S69T0U1706">payoffBoth</span>,0.001,<span class="string">'ByRows'</span>,true)</span></span>
<span class="srcline"><span class="lineno"><a href="1,251" id="srcline251">251</a></span><span class="line">            <span class="var type0" id="S167T0U1713">diffX</span> = <span class="var type0" id="S163T0U1715">shEngine</span> - <span class="var type0" id="S61T0U1717">paretoStrategies</span>(:,1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,252" id="srcline252">252</a></span><span class="line">            <span class="var type0" id="S167T0U1722">diffX</span> = sort(<span class="var type0" id="S167T0U1725">diffX</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,253" id="srcline253">253</a></span><span class="line">            <span class="var type0" id="S167T0U1728">diffX</span> = <span class="var type0" id="S167T0U1730">diffX</span>(1:2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,254" id="srcline254">254</a></span><span class="line">            <span class="var type0" id="S169T0U1736">IDX</span> = zeros(1,2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,255" id="srcline255">255</a></span><span class="line">            <span class="var type0" id="S169T0U1743">IDX</span> = knnsearch(<span class="var type0" id="S69T0U1746">payoffBoth</span>,[<span class="var type0" id="S163T0U1749">shEngine</span> <span class="var type0" id="S164T0U1750">shMotor</span>],<span class="string">'K'</span>, 2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,256" id="srcline256">256</a></span><span class="line">            [<span class="var type0" id="S171T0U1756">idr1</span>, <span class="var type0" id="S172T0U1757">idc1</span>] = ind2sub(size(<span class="var type0" id="S26T0U1762">payoffEngine</span>), <span class="var type0" id="S169T0U1764">IDX</span>(1));        </span></span>
<span class="srcline"><span class="lineno"><a href="1,257" id="srcline257">257</a></span><span class="line">            [<span class="var type0" id="S173T0U1769">idr2</span>, <span class="var type0" id="S174T0U1770">idc2</span>] = ind2sub(size(<span class="var type0" id="S26T0U1775">payoffEngine</span>), <span class="var type0" id="S169T0U1777">IDX</span>(2));</span></span>
<span class="srcline"><span class="lineno"><a href="1,258" id="srcline258">258</a></span><span class="line">            <span class="var type0" id="S175T0U1781">nearestSh1</span> = [<span class="var type0" id="S171T0U1784">idr1</span> <span class="var type0" id="S172T0U1785">idc1</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="1,259" id="srcline259">259</a></span><span class="line">            <span class="var type0" id="S176T0U1788">nearestSh2</span> = [<span class="var type0" id="S173T0U1791">idr2</span> <span class="var type0" id="S174T0U1792">idc2</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="1,260" id="srcline260">260</a></span><span class="line">            <span class="var type0" id="S177T0U1795">payoffNearestSh1</span> = [<span class="var type0" id="S26T0U1799">payoffEngine</span>(<span class="var type0" id="S171T0U1800">idr1</span>,<span class="var type0" id="S172T0U1801">idc1</span>) <span class="var type0" id="S24T0U1803">payoffMotor</span>(<span class="var type0" id="S171T0U1804">idr1</span>,<span class="var type0" id="S172T0U1805">idc1</span>)];</span></span>
<span class="srcline"><span class="lineno"><a href="1,261" id="srcline261">261</a></span><span class="line">            <span class="var type0" id="S178T0U1808">payoffNearestSh2</span> = [<span class="var type0" id="S26T0U1812">payoffEngine</span>(<span class="var type0" id="S173T0U1813">idr2</span>,<span class="var type0" id="S174T0U1814">idc2</span>) <span class="var type0" id="S24T0U1816">payoffMotor</span>(<span class="var type0" id="S173T0U1817">idr2</span>,<span class="var type0" id="S174T0U1818">idc2</span>)];</span></span>
<span class="srcline"><span class="lineno"><a href="1,262" id="srcline262">262</a></span><span class="line">            <span class="var type0" id="S179T0U1821">probNearSh1</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,263" id="srcline263">263</a></span><span class="line">            <span class="var type0" id="S180T0U1825">probNearSh2</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,264" id="srcline264">264</a></span><span class="line">            <span class="keyword">if</span> <span class="var type0" id="S177T0U1832">payoffNearestSh1</span>(2) &lt; <span class="var type0" id="S163T0U1834">shEngine</span> &amp;&amp;  <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,265" id="srcline265">265</a></span><span class="line">                <span class="var type0" id="S163T0U1836">shEngine</span> &gt; <span class="var type0" id="S178T0U1838">payoffNearestSh2</span>(1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,266" id="srcline266">266</a></span><span class="line">                <span class="var type0" id="S180T0U1842">probNearSh2</span> = (<span class="var type0" id="S163T0U1846">shEngine</span> - <span class="var type0" id="S178T0U1848">payoffNearestSh2</span>(1)) / <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,267" id="srcline267">267</a></span><span class="line">                    (<span class="var type0" id="S177T0U1853">payoffNearestSh1</span>(1) - <span class="var type0" id="S178T0U1856">payoffNearestSh2</span>(1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,268" id="srcline268">268</a></span><span class="line">                <span class="var type0" id="S179T0U1860">probNearSh1</span> = 1 - <span class="var type0" id="S180T0U1863">probNearSh2</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,269" id="srcline269">269</a></span><span class="line">            <span class="keyword">elseif</span> <span class="var type0" id="S177T0U1868">payoffNearestSh1</span>(1) &lt; <span class="var type0" id="S163T0U1870">shEngine</span> &amp;&amp; <span class="keyword">...</span><span class="comment">                    </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,270" id="srcline270">270</a></span><span class="line">                <span class="var type0" id="S163T0U1872">shEngine</span> &lt; <span class="var type0" id="S178T0U1874">payoffNearestSh2</span>(1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,271" id="srcline271">271</a></span><span class="line">                <span class="var type0" id="S179T0U1878">probNearSh1</span> = (<span class="var type0" id="S163T0U1882">shEngine</span> - <span class="var type0" id="S177T0U1884">payoffNearestSh1</span>(1)) / <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,272" id="srcline272">272</a></span><span class="line">                    (<span class="var type0" id="S178T0U1889">payoffNearestSh2</span>(1) - <span class="var type0" id="S177T0U1892">payoffNearestSh1</span>(1));</span></span>
<span class="srcline"><span class="lineno"><a href="1,273" id="srcline273">273</a></span><span class="line">                <span class="var type0" id="S180T0U1896">probNearSh2</span> = 1 - <span class="var type0" id="S179T0U1899">probNearSh1</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,274" id="srcline274">274</a></span><span class="line">            <span class="keyword">elseif</span> <span class="var type0" id="S163T0U1903">shEngine</span> &lt; <span class="var type0" id="S177T0U1905">payoffNearestSh1</span>(1) &amp;&amp;  <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,275" id="srcline275">275</a></span><span class="line">                <span class="var type0" id="S163T0U1908">shEngine</span> &lt; <span class="var type0" id="S178T0U1910">payoffNearestSh2</span>(1)            </span></span>
<span class="srcline"><span class="lineno"><a href="1,276" id="srcline276">276</a></span><span class="line">                <span class="keyword">if</span> <span class="var type0" id="S177T0U1916">payoffNearestSh1</span>(1) &lt; <span class="var type0" id="S178T0U1919">payoffNearestSh2</span>(1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,277" id="srcline277">277</a></span><span class="line">                    <span class="var type0" id="S179T0U1923">probNearSh1</span> = <span class="var type0" id="S163T0U1925">shEngine</span> / <span class="var type0" id="S177T0U1927">payoffNearestSh1</span>(1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,278" id="srcline278">278</a></span><span class="line">                    <span class="var type0" id="S180T0U1931">probNearSh2</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,279" id="srcline279">279</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,280" id="srcline280">280</a></span><span class="line">                    <span class="var type0" id="S180T0U1936">probNearSh2</span> = <span class="var type0" id="S163T0U1938">shEngine</span> / <span class="var type0" id="S178T0U1940">payoffNearestSh2</span>(1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,281" id="srcline281">281</a></span><span class="line">                    <span class="var type0" id="S179T0U1944">probNearSh1</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,282" id="srcline282">282</a></span><span class="line">                <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,283" id="srcline283">283</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,284" id="srcline284">284</a></span><span class="line">            <span class="var type0" id="S179T0U1947">probNearSh1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,285" id="srcline285">285</a></span><span class="line">            <span class="var type0" id="S180T0U1949">probNearSh2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,286" id="srcline286">286</a></span><span class="line">            <span class="var type0" id="S181T0U1952">shapleyEngineTorque</span> = <span class="var type0" id="S179T0U1955">probNearSh1</span>*<span class="var type0" id="S30T0U1957">strategyEng</span>(<span class="var type0" id="S171T0U1958">idr1</span>) + <span class="var type0" id="S180T0U1960">probNearSh2</span>*<span class="var type0" id="S30T0U1962">strategyEng</span>(<span class="var type0" id="S173T0U1963">idr2</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,287" id="srcline287">287</a></span><span class="line">            <span class="var type0" id="S182T0U1966">shapleyMotorTorque</span> = <span class="var type0" id="S179T0U1969">probNearSh1</span>*<span class="var type0" id="S31T0U1971">strategyMot</span>(<span class="var type0" id="S172T0U1972">idc1</span>) + <span class="var type0" id="S180T0U1974">probNearSh2</span>*<span class="var type0" id="S31T0U1976">strategyMot</span>(<span class="var type0" id="S174T0U1977">idc2</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,288" id="srcline288">288</a></span><span class="line">            <span class="var type0" id="S181T0U1980">shapleyEngineTorque</span> + <span class="var type0" id="S182T0U1981">shapleyMotorTorque</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,289" id="srcline289">289</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,290" id="srcline290">290</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,291" id="srcline291">291</a></span><span class="line">        <span class="var type0" id="S183T0U1984">lightpurple</span> = [163 154 255] ./ 255;        </span></span>
<span class="srcline"><span class="lineno"><a href="1,292" id="srcline292">292</a></span><span class="line">        <span class="var type0" id="S184T0U1994">p10</span> = plot(<span class="var type0" id="S156T0U1997">payoffStrEng</span>, <span class="var type0" id="S157T0U1998">payoffStrMot</span>, <span class="string">'o'</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,293" id="srcline293">293</a></span><span class="line">            <span class="string">'MarkerFaceColor'</span>, <span class="var type0" id="S183T0U2001">lightpurple</span>, <span class="string">'MarkerEdgeColor'</span>, <span class="var type0" id="S183T0U2003">lightpurple</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,294" id="srcline294">294</a></span><span class="line">            <span class="string">'MarkerSize'</span>, 13);</span></span>
<span class="srcline"><span class="lineno"><a href="1,295" id="srcline295">295</a></span><span class="line">              </span></span>
<span class="srcline"><span class="lineno"><a href="1,296" id="srcline296">296</a></span><span class="line">        <span class="var type0" id="S185T0U2008">limegreen</span> = [194 242 1] ./ 255;</span></span>
<span class="srcline"><span class="lineno"><a href="1,297" id="srcline297">297</a></span><span class="line">        <span class="var type0" id="S186T0U2018">p3</span> = plot(<span class="var type0" id="S80T0U2021">bestPayoffEngPareto</span>, <span class="var type0" id="S81T0U2022">bestPayoffMotPareto</span>, <span class="string">'og'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,298" id="srcline298">298</a></span><span class="line">            <span class="string">'MarkerFaceColor'</span>, <span class="string">'g'</span>, <span class="string">'MarkerSize'</span>, 12);    </span></span>
<span class="srcline"><span class="lineno"><a href="1,299" id="srcline299">299</a></span><span class="line">        <span class="comment">%p5 = plot(payoffEngNashNPG, payoffMotNashNPG, 'o', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,300" id="srcline300">300</a></span><span class="line">        <span class="comment">%    'MarkerFaceColor','m', 'MarkerEdgeColor', 'm',<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,301" id="srcline301">301</a></span><span class="line">        <span class="comment">%    'MarkerSize', 13);    </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,302" id="srcline302">302</a></span><span class="line">        <span class="var type0" id="S187T0U2030">p4</span> = plot(<span class="var type0" id="S90T0U2033">payoffEngNash</span>, <span class="var type0" id="S91T0U2034">payoffMotNash</span>, <span class="string">'oy'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,303" id="srcline303">303</a></span><span class="line">            <span class="string">'MarkerFaceColor'</span>, <span class="string">'y'</span>, <span class="string">'MarkerSize'</span>, 10);     </span></span>
<span class="srcline"><span class="lineno"><a href="1,304" id="srcline304">304</a></span><span class="line">        <span class="comment">%p41 = plot(bestPayoffEngNashLH(1), bestPayoffMotNashLH(1), 'oc', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,305" id="srcline305">305</a></span><span class="line">        <span class="comment">%    'MarkerFaceColor', 'c', 'MarkerSize', 9);      </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,306" id="srcline306">306</a></span><span class="line">        <span class="comment">%p42 = plot(bestPayoffEngNashLH(2), bestPayoffMotNashLH(2), 'o', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,307" id="srcline307">307</a></span><span class="line">        <span class="comment">%    'MarkerFaceColor', 'r', 'MarkerEdgeColor','r','MarkerSize', 7);     </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,308" id="srcline308">308</a></span><span class="line">        <span class="comment">%p43 = plot(bestPayoffEngNashLH(3), bestPayoffMotNashLH(3), 'o', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,309" id="srcline309">309</a></span><span class="line">        <span class="comment">%    'MarkerFaceColor', limegreen,'MarkerEdgeColor', limegreen, 'MarkerSize', 5);         </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,310" id="srcline310">310</a></span><span class="line">        <span class="comment">%p6 = plot(payoffEngNashSol, payoffMotNashSol,'or', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,311" id="srcline311">311</a></span><span class="line">        <span class="comment">%    'MarkerFaceColor',[1,0.6,0] , 'MarkerEdgeColor', [1,0.6,0] ,<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,312" id="srcline312">312</a></span><span class="line">        <span class="comment">%    'MarkerSize', 9);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,313" id="srcline313">313</a></span><span class="line">          </span></span>
<span class="srcline"><span class="lineno"><a href="1,314" id="srcline314">314</a></span><span class="line">        <span class="var type0" id="S188T0U2042">purple</span> = [118 31 133] ./ 255;        </span></span>
<span class="srcline"><span class="lineno"><a href="1,315" id="srcline315">315</a></span><span class="line">        <span class="var type0" id="S189T0U2052">p7</span> = plot(<span class="var type0" id="S100T0U2056">ks</span>(1,1), <span class="var type0" id="S100T0U2060">ks</span>(1,2), <span class="string">'o'</span>, <span class="string">'MarkerFaceColor'</span>, <span class="var type0" id="S188T0U2065">purple</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,316" id="srcline316">316</a></span><span class="line">            <span class="string">'MarkerEdgeColor'</span>, <span class="var type0" id="S188T0U2067">purple</span>, <span class="string">'MarkerSize'</span>, 9);</span></span>
<span class="srcline"><span class="lineno"><a href="1,317" id="srcline317">317</a></span><span class="line">        <span class="var type0" id="S190T0U2072">pink</span> = [254 164 191] ./ 255;       </span></span>
<span class="srcline"><span class="lineno"><a href="1,318" id="srcline318">318</a></span><span class="line">        <span class="var type0" id="S191T0U2082">p8</span> = plot(<span class="var type0" id="S69T0U2086">payoffBoth</span>(<span class="var type0" id="S131T0U2088">imput</span>(<span class="var type0" id="S138T0U2089">indCore</span>),1), <span class="var type0" id="S69T0U2092">payoffBoth</span>(<span class="var type0" id="S131T0U2094">imput</span>(<span class="var type0" id="S138T0U2095">indCore</span>),2), <span class="string">'o'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,319" id="srcline319">319</a></span><span class="line">            <span class="string">'MarkerFaceColor'</span>,<span class="var type0" id="S190T0U2099">pink</span>, <span class="string">'MarkerEdgeColor'</span>,<span class="var type0" id="S190T0U2101">pink</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,320" id="srcline320">320</a></span><span class="line">            <span class="string">'MarkerSize'</span>, 8);      </span></span>
<span class="srcline"><span class="lineno"><a href="1,321" id="srcline321">321</a></span><span class="line">               </span></span>
<span class="srcline"><span class="lineno"><a href="1,322" id="srcline322">322</a></span><span class="line">        <span class="var type0" id="S192T0U2106">p9</span> = plot(<span class="var type0" id="S163T0U2109">shEngine</span>, <span class="var type0" id="S164T0U2110">shMotor</span>, <span class="string">'o'</span>, <span class="string">'MarkerFaceColor'</span>, <span class="var type0" id="S185T0U2113">limegreen</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,323" id="srcline323">323</a></span><span class="line">            <span class="string">'MarkerEdgeColor'</span>, <span class="var type0" id="S185T0U2115">limegreen</span>, <span class="string">'MarkerSize'</span>, 7);</span></span>
<span class="srcline"><span class="lineno"><a href="1,324" id="srcline324">324</a></span><span class="line">        <span class="var type0" id="S193T0U2120">p2</span> = <span class="var type0" id="S192T0U2121">p9</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,325" id="srcline325">325</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,326" id="srcline326">326</a></span><span class="line">        <span class="keyword">for</span> <span class="var type0" id="S133T0U2124">r</span> = 1 : size(<span class="var type0" id="S62T0U2129">paretoIndex</span>,1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,327" id="srcline327">327</a></span><span class="line">            <span class="var type0" id="S194T0U2133">linearIndex</span> = sub2ind([<span class="var type0" id="S22T0U2138">m</span> <span class="var type0" id="S23T0U2139">e</span>], <span class="var type0" id="S62T0U2141">paretoIndex</span>(<span class="var type0" id="S133T0U2142">r</span>,2), <span class="var type0" id="S62T0U2145">paretoIndex</span>(<span class="var type0" id="S133T0U2146">r</span>,1));           </span></span>
<span class="srcline"><span class="lineno"><a href="1,328" id="srcline328">328</a></span><span class="line">            <span class="var type0" id="S193T0U2150">p2</span> = plot(<span class="var type0" id="S63T0U2154">x</span>(<span class="var type0" id="S194T0U2155">linearIndex</span>), <span class="var type0" id="S64T0U2157">y</span>(<span class="var type0" id="S194T0U2158">linearIndex</span>), <span class="string">'o'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,329" id="srcline329">329</a></span><span class="line">                <span class="string">'MarkerEdgeColor'</span>, [0,0.5,0], <span class="string">'MarkerFaceColor'</span>,[0,0.5,0],<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,330" id="srcline330">330</a></span><span class="line">                <span class="string">'MarkerSize'</span>,6);</span></span>
<span class="srcline"><span class="lineno"><a href="1,331" id="srcline331">331</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,332" id="srcline332">332</a></span><span class="line">             </span></span>
<span class="srcline"><span class="lineno"><a href="1,333" id="srcline333">333</a></span><span class="line">        <span class="var type0" id="S195T0U2176">darkred</span> = [185 16 20] ./ 255;</span></span>
<span class="srcline"><span class="lineno"><a href="1,334" id="srcline334">334</a></span><span class="line">        <span class="comment">%pi = plot(m1, m2, 'o', 'MarkerSize', 4, 'MarkerFaceColor',darkred ,<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,335" id="srcline335">335</a></span><span class="line">        <span class="comment">%'MarkerEdgeColor', darkred);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,336" id="srcline336">336</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,337" id="srcline337">337</a></span><span class="line">      </span></span>
<span class="srcline"><span class="lineno"><a href="1,338" id="srcline338">338</a></span><span class="line">        legend([<span class="var type0" id="S76T0U2189">p1</span> <span class="var type0" id="S193T0U2190">p2</span> <span class="var type0" id="S186T0U2191">p3</span> <span class="var type0" id="S187T0U2192">p4</span> <span class="var type0" id="S189T0U2193">p7</span> <span class="var type0" id="S191T0U2194">p8</span> <span class="var type0" id="S192T0U2195">p9</span> <span class="var type0" id="S184T0U2196">p10</span>], <span class="string">'Payoff'</span>, <span class="keyword">...</span><span class="comment">         </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,339" id="srcline339">339</a></span><span class="line">        <span class="string">'Pareto optimal payoff'</span>, <span class="keyword">...</span><span class="comment">  </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,340" id="srcline340">340</a></span><span class="line">        <span class="string">'Best Pareto payoff'</span>, <span class="keyword">...</span><span class="comment"> </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,341" id="srcline341">341</a></span><span class="line">        <span class="string">'Nash Equilibrium Lemke-Howson (conflict point)'</span>, <span class="keyword">...</span><span class="comment"> </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,342" id="srcline342">342</a></span><span class="line">        <span class="string">'Kalai-Smorodinsky Solution'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,343" id="srcline343">343</a></span><span class="line">        <span class="string">'Core'</span>, <span class="keyword">...</span><span class="comment">        </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,344" id="srcline344">344</a></span><span class="line">        <span class="string">'Shapley value'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,345" id="srcline345">345</a></span><span class="line">        <span class="string">'Mixed Strategies'</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,346" id="srcline346">346</a></span><span class="line">        <span class="string">'Location'</span>, <span class="string">'northwest'</span>);       </span></span>
<span class="srcline"><span class="lineno"><a href="1,347" id="srcline347">347</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,348" id="srcline348">348</a></span><span class="line">        <span class="comment">%'Ideal point', <span class="keyword">...</span><span class="comment">       </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,349" id="srcline349">349</a></span><span class="line">        <span class="comment">%'Nash Equilibrium Lemke-Howson k0=1', <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,350" id="srcline350">350</a></span><span class="line">        <span class="comment">%'Nash Equilibrium Lemke-Howson k0=8', <span class="keyword">...</span><span class="comment">     </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,351" id="srcline351">351</a></span><span class="line">        <span class="comment">%'Nash Equilibrium Lemke-Howson k0=15' , <span class="keyword">...</span><span class="comment"> </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,352" id="srcline352">352</a></span><span class="line">        <span class="comment">%'Nash Equilibrium Lemke-Howson k0=23' , <span class="keyword">...</span><span class="comment">          </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,353" id="srcline353">353</a></span><span class="line">        <span class="comment">%'Nash Equilibrium NPG', <span class="keyword">...</span><span class="comment">       </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,354" id="srcline354">354</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,355" id="srcline355">355</a></span><span class="line">        xlabel(<span class="string">'Payoff Engine'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,356" id="srcline356">356</a></span><span class="line">        ylabel(<span class="string">'Payoff Motor'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,357" id="srcline357">357</a></span><span class="line">        hold <span class="string">off</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,358" id="srcline358">358</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,359" id="srcline359">359</a></span><span class="line">        [ <span class="var type0" id="S2T0U2221">engineTorque</span>, <span class="var type0" id="S3T0U2222">motorTorque</span> ] = payofftotorque(<span class="var type0" id="S80T0U2225">bestPayoffEngPareto</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,360" id="srcline360">360</a></span><span class="line">            <span class="var type0" id="S81T0U2226">bestPayoffMotPareto</span>, <span class="var type0" id="S69T0U2227">payoffBoth</span>, <span class="var type0" id="S30T0U2228">strategyEng</span>, <span class="var type0" id="S31T0U2229">strategyMot</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,361" id="srcline361">361</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,362" id="srcline362">362</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,363" id="srcline363">363</a></span><span class="line">    <span class="keyword">end</span></span></span>
</pre>
